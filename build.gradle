plugins {
	id 'org.springframework.boot' version '2.1.4.RELEASE'
	id 'java'
}

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'
apply plugin: 'jacoco'

group = 'uk.gov.digital.ho.hocs'
version = '0.0.1'
sourceCompatibility = '11'
targetCompatibility = '11'

task copyLombok(type: Copy) {
	outputs.upToDateWhen { false }
	into "${buildDir}/libs"
	include "lombok*.jar"
	from configurations.compileOnly
}

build.dependsOn(copyLombok)

repositories {
	mavenCentral()
}

dependencies {
	compile("org.springframework.boot:spring-boot-starter-web")
	compile('org.springframework.retry:spring-retry')
	compile('org.springframework.boot:spring-boot-starter-actuator')
	compile("org.apache.camel:camel-spring-boot-starter:2.23.0")
	compile group: 'javax', name: 'javaee-api', version: '8.0.1'
	compile (group: 'org.docx4j', name: 'docx4j', version: '6.1.2'){
		exclude group: "org.slf4j", module: "slf4j-log4j12"
	}
	compile group: 'com.googlecode.jaxb-namespaceprefixmapper-interfaces', name: 'JAXBNamespacePrefixMapper', version: '6.1.0'
	compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.4.0-b180830.0359'
	compile group: 'com.sun.xml.bind', name: 'jaxb-impl', version: '2.3.2'
	compile group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '2.3.2'
	compile group: 'org.glassfish.jersey.core', name: 'jersey-common', version: '2.28'

	compileOnly 'org.projectlombok:lombok'

	compile('net.logstash.logback:logstash-logback-encoder:5.3')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	testCompile('org.assertj:assertj-core')
	testCompile group: 'junit', name: 'junit', version: '4.12'

	testCompile "com.github.tomakehurst:wiremock-standalone:2.18.0"
	annotationProcessor 'org.projectlombok:lombok'

}
